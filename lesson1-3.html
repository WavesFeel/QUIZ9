<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>STORTHUB - –£—Ä–æ–∫ 1: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</title>
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/slick.css">
  <link rel="stylesheet" href="css/jquery.fancybox.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <header class="header">
    <div class="container">
      <div class="header_inner">
        <a href="index.html" class="logo">STORT<span>HUB</span></a>
        <div class="exit">
          <p class="nameuser">–ú–∏—Å–∞–π–ª–æ–≤ –†–∞–π—Ñ</p>
          <a href="#" class="iconexit">üö™</a>
        </div>
      </div>
    </div>
  </header>

  <div class="content">
    <div class="container">
      <div class="content_inner">
        <div class="menu">
          <div class="class-switch">
            <button class="switch-btn active" data-href="index.html">5 –∫–ª–∞—Å—Å</button>
            <button class="switch-btn" data-href="2lesson.html">6 –∫–ª–∞—Å—Å</button>
          </div>
          <ul class="lesson-list">
            <li data-href="lesson0.html">–í–≤–µ–¥–µ–Ω–∏–µ</li>
            <li data-href="index.html" class="active">–£—Ä–æ–∫ 1. –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –∫–∞–±–∏–Ω–µ—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏</li>
            <li data-href="lesson2.html">–£—Ä–æ–∫ 2. –≠—Ä–≥–æ–Ω–æ–º–∏–∫–∞</li>
            <li data-href="lesson3.html">–£—Ä–æ–∫ 3. –ö–∏–±–µ—Ä-–≥–∏–≥–∏–µ–Ω–∞ –∏ –∑–∞—â–∏—Ç–∞ –ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
            <li data-href="lesson4.html">–£—Ä–æ–∫ 4. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä—ã: –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ</li>
            <li data-href="lesson5.html">–£—Ä–æ–∫ 5. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä—ã: –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ</li>
            <li data-href="lesson6.html">–£—Ä–æ–∫ 6. –ê–ª–≥–æ—Ä–∏—Ç–º—ã</li>
          </ul>
        </div>

        <div class="content_games">
          <img src="images/Video1_4.png" alt="–£—Ä–æ–∫ 1 - –∏–≥—Ä–∞ —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏" class="content_games_img" id="Video1_4">

          <!-- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã -->
          <div class="question-hotspot" id="q1" data-question="1">
            <img src="images/q1.png" class="q-image">
          </div>
          <div class="question-hotspot" id="q2" data-question="2">
            <img src="images/q2.png" class="q-image">
          </div>
          <div class="question-hotspot" id="q3" data-question="3">
            <img src="images/q3.png" class="q-image">
          </div>
          <div class="question-hotspot" id="q4" data-question="4">
            <img src="images/q4.png" class="q-image">
          </div>
          <div class="question-hotspot" id="q5" data-question="5">
            <img src="images/q5.png" class="q-image">
          </div>
          <div class="question-hotspot" id="q6" data-question="6">
            <img src="images/q6.png" class="q-image">
          </div>

          <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å -->
          <div class="game-progress-indicator">
            <p>–û—Ç–≤–µ—Ç—å –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã: <span id="answered-count">0</span>/6</p>
          </div>

          <!-- –°—Ç—Ä–µ–ª–∫–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã -->
          <img src="images/arrow.png" alt="–î–∞–ª–µ–µ" class="arrow" id="next-arrow" style="display: none;">
        </div>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ -->
  <div id="questionModal" class="question-modal">
    <div class="question-modal-content">
      <h3 id="questionTitle">–í–æ–ø—Ä–æ—Å</h3>
      <p id="questionText">–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞</p>
      <div id="questionOptions" class="question-options">
        <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
      </div>
      <button id="closeQuestionModal" class="close-modal-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>

  <!-- Overlay –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω -->
  <div id="modalOverlay" class="modal-overlay"></div>

  <!-- Modal for tooltips -->
  <div id="tooltipOverlay" class="tooltip-overlay"></div>
  <div id="tooltipModal" class="tooltip-modal"></div>

  <style>
    .question-hotspot {
      position: absolute;
      cursor: pointer;
      transition: transform 0.3s ease;
      z-index: 5;
    }

    .question-hotspot:hover {
      transform: scale(1.1);
    }

    .question-hotspot.answered {
      opacity: 0.5;
      pointer-events: none;
    }

    .q-image {
      width: 170px;
      height: auto;
    }

    /* –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ CSS */
    #q1 { right: 75%; bottom: 70%; }
    #q2 { right: 75%; bottom: 40%; }
    #q3 { right: 75%; bottom: 10%; }
    #q4 { right: 5%; bottom: 70%; }
    #q5 { right: 5%; bottom: 40%; }
    #q6 { right: 5%; bottom: 10%; }

    .game-progress-indicator {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(77, 54, 219, 0.9);
      color: white;
      padding: 10px 20px;
      border-radius: 20px;
      font-weight: 600;
    }

    .question-modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      border-radius: 15px;
      padding: 30px;
      z-index: 1001;
      max-width: 500px;
      width: 90%;
      display: none;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }

    .question-modal.active {
      display: block;
    }

    .question-modal h3 {
      color: #4D36DB;
      margin-bottom: 15px;
      font-size: 20px;
    }

    .question-modal p {
      margin-bottom: 20px;
      font-size: 16px;
      line-height: 1.5;
    }

    .question-options {
      margin-bottom: 20px;
    }

    .option-btn {
      display: block;
      width: 100%;
      padding: 12px 15px;
      margin-bottom: 10px;
      background: #f8f9fa;
      border: 2px solid #4D36DB;
      border-radius: 8px;
      cursor: pointer;
      font-family: "Montserrat", sans-serif;
      font-weight: 500;
      transition: all 0.3s ease;
      text-align: left;
    }

    .option-btn:hover {
      background: #e9ecef;
      transform: translateY(-2px);
    }

    .option-btn.correct {
      background: #d4edda;
      border-color: #28a745;
      color: #155724;
    }

    .option-btn.incorrect {
      background: #f8d7da;
      border-color: #dc3545;
      color: #721c24;
    }

    .close-modal-btn {
      padding: 10px 20px;
      background: #4D36DB;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-family: "Montserrat", sans-serif;
      font-weight: 600;
    }

    .close-modal-btn:hover {
      background: #3626aa;
    }

    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 1000;
      display: none;
    }

    .modal-overlay.active {
      display: block;
    }

    @media (max-width: 768px) {
      .question-hotspot {
        transform: scale(0.8);
      }

      .q-image {
        width: 120px;
      }

      .question-modal {
        padding: 20px;
        margin: 20px;
      }
    }
  </style>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="js/slick.min.js"></script>
  <script src="js/jquery.fancybox.min.js"></script>
  <script src="js/help.js"></script>
  <script src="js/main.js"></script>

  <script>
    // –í–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã –¥–ª—è lesson1-3
    const safetyQuestions = {
      1: {
        title: "–í–æ–ø—Ä–æ—Å 1: –≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ",
        text: "–ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —É–≤–∏–¥–µ–ª –∏—Å–∫—Ä—ã –æ—Ç —Ä–æ–∑–µ—Ç–∫–∏?",
        options: [
          { text: "–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–æ–æ–±—â–∏—Ç—å —É—á–∏—Ç–µ–ª—é", correct: true },
          { text: "–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ—á–∏–Ω–∏—Ç—å —Å–∞–º–æ–º—É", correct: false },
          { text: "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É", correct: false }
        ]
      },
      2: {
        title: "–í–æ–ø—Ä–æ—Å 2: –ñ–∏–¥–∫–æ—Å—Ç–∏",
        text: "–ú–æ–∂–Ω–æ –ª–∏ –ø–∏—Ç—å –≤–æ–¥—É —Ä—è–¥–æ–º —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º?",
        options: [
          { text: "–î–∞, –º–æ–∂–Ω–æ", correct: false },
          { text: "–ù–µ—Ç, –Ω–µ–ª—å–∑—è", correct: true },
          { text: "–¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ", correct: false }
        ]
      },
      3: {
        title: "–í–æ–ø—Ä–æ—Å 3: –ß–∏—Å—Ç–æ—Ç–∞ —Ä—É–∫",
        text: "–ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è —Ç—Ä–æ–≥–∞—Ç—å –∫–æ–º–ø—å—é—Ç–µ—Ä –≥—Ä—è–∑–Ω—ã–º–∏ —Ä—É–∫–∞–º–∏?",
        options: [
          { text: "–ú–æ–∂–Ω–æ –ø–æ–≤—Ä–µ–¥–∏—Ç—å —Ç–µ—Ö–Ω–∏–∫—É", correct: true },
          { text: "–ù–∏—á–µ–≥–æ –Ω–µ —Å–ª—É—á–∏—Ç—Å—è", correct: false },
          { text: "–ü—Ä–æ—Å—Ç–æ –Ω–µ–∫—Ä–∞—Å–∏–≤–æ", correct: false }
        ]
      },
      4: {
        title: "–í–æ–ø—Ä–æ—Å 4: –ü–æ—Å–∞–¥–∫–∞",
        text: "–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–∏–¥–µ—Ç—å –∑–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º?",
        options: [
          { text: "–ö–∞–∫ —É–¥–æ–±–Ω–æ", correct: false },
          { text: "–ü—Ä—è–º–æ, –Ω–æ–≥–∏ –Ω–∞ –ø–æ–ª—É", correct: true },
          { text: "–ú–æ–∂–Ω–æ –ª–µ–∂–∞—Ç—å", correct: false }
        ]
      },
      5: {
        title: "–í–æ–ø—Ä–æ—Å 5: –ü–µ—Ä–µ—Ä—ã–≤—ã",
        text: "–ö–∞–∫ —á–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ—Ä—ã–≤—ã?",
        options: [
          { text: "–ö–∞–∂–¥—ã–µ 20-30 –º–∏–Ω—É—Ç", correct: true },
          { text: "–ö–∞–∂–¥—ã–π —á–∞—Å", correct: false },
          { text: "–ü–µ—Ä–µ—Ä—ã–≤—ã –Ω–µ –Ω—É–∂–Ω—ã", correct: false }
        ]
      },
      6: {
        title: "–í–æ–ø—Ä–æ—Å 6: –ü–æ—Ä—è–¥–æ–∫",
        text: "–ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã –∑–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º?",
        options: [
          { text: "–£–±—Ä–∞—Ç—å —Ä–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ", correct: true },
          { text: "–ü—Ä–æ—Å—Ç–æ —É–π—Ç–∏", correct: false },
          { text: "–û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å", correct: false }
        ]
      }
    };

    document.addEventListener('DOMContentLoaded', function() {
      let answeredQuestions = new Set();
      const totalQuestions = 6;

      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤
      document.querySelectorAll('.question-hotspot').forEach(hotspot => {
        hotspot.addEventListener('click', function() {
          const questionNum = parseInt(this.dataset.question);
          showQuestion(questionNum);
        });
      });

      function showQuestion(questionNum) {
        const question = safetyQuestions[questionNum];
        if (!question) return;

        const modal = document.getElementById('questionModal');
        const overlay = document.getElementById('modalOverlay');

        document.getElementById('questionTitle').textContent = question.title;
        document.getElementById('questionText').textContent = question.text;

        const optionsContainer = document.getElementById('questionOptions');
        optionsContainer.innerHTML = '';

        question.options.forEach((option, index) => {
          const btn = document.createElement('button');
          btn.className = 'option-btn';
          btn.textContent = option.text;
          btn.addEventListener('click', () => handleAnswer(questionNum, option.correct, btn));
          optionsContainer.appendChild(btn);
        });

        modal.classList.add('active');
        overlay.classList.add('active');
      }

      function handleAnswer(questionNum, isCorrect, btnElement) {
        // –û—Ç–∫–ª—é—á–∞–µ–º –≤—Å–µ –∫–Ω–æ–ø–∫–∏
        document.querySelectorAll('.option-btn').forEach(btn => {
          btn.style.pointerEvents = 'none';
        });

        // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –æ—Ç–≤–µ—Ç
        if (isCorrect) {
          btnElement.classList.add('correct');
          setTimeout(() => {
            answeredQuestions.add(questionNum);
            markQuestionAsAnswered(questionNum);
            closeModal();
            updateProgress();
          }, 1500);
        } else {
          btnElement.classList.add('incorrect');
          setTimeout(() => {
            // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
            const correctBtn = Array.from(document.querySelectorAll('.option-btn')).find(btn => {
              const question = safetyQuestions[questionNum];
              return question.options.some(opt => opt.text === btn.textContent && opt.correct);
            });
            if (correctBtn) {
              correctBtn.classList.add('correct');
            }

            setTimeout(() => {
              answeredQuestions.add(questionNum);
              markQuestionAsAnswered(questionNum);
              closeModal();
              updateProgress();
            }, 1500);
          }, 1000);
        }
      }

      function markQuestionAsAnswered(questionNum) {
        const hotspot = document.getElementById(`q${questionNum}`);
        if (hotspot) {
          hotspot.classList.add('answered');
        }
      }

      function updateProgress() {
        document.getElementById('answered-count').textContent = answeredQuestions.size;

        if (answeredQuestions.size === totalQuestions) {
          document.getElementById('next-arrow').style.display = 'block';
          setTimeout(() => {
            alert('–û—Ç–ª–∏—á–Ω–æ! –¢—ã –æ—Ç–≤–µ—Ç–∏–ª –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –∑–Ω–∞–µ—à—å –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!');
          }, 500);
        }
      }

      function closeModal() {
        document.getElementById('questionModal').classList.remove('active');
        document.getElementById('modalOverlay').classList.remove('active');
      }

      // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
      document.getElementById('closeQuestionModal').addEventListener('click', closeModal);
      document.getElementById('modalOverlay').addEventListener('click', closeModal);
    });
  </script>
</body>

</html>
