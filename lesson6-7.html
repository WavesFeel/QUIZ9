<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>STORTHUB - –£—Ä–æ–∫ 6: –ò—Ç–æ–≥–æ–≤—ã–π —Ç–µ—Å—Ç</title>
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/slick.css">
  <link rel="stylesheet" href="css/jquery.fancybox.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <header class="header">
    <div class="container">
      <div class="header_inner">
        <a href="index.html" class="logo">STORT<span>HUB</span></a>
        <div class="exit">
          <p class="nameuser">–ú–∏—Å–∞–π–ª–æ–≤ –†–∞–π—Ñ</p>
          <a href="#" class="iconexit">üö™</a>
        </div>
      </div>
    </div>
  </header>

  <div class="content">
    <div class="container">
      <div class="content_inner">
        <div class="menu">
          <div class="class-switch">
            <button class="switch-btn active" data-href="index.html">5 –∫–ª–∞—Å—Å</button>
            <button class="switch-btn" data-href="2lesson.html">6 –∫–ª–∞—Å—Å</button>
          </div>
          <ul class="lesson-list">
            <li data-href="lesson0.html">–í–≤–µ–¥–µ–Ω–∏–µ</li>
            <li data-href="index.html">–£—Ä–æ–∫ 1. –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –∫–∞–±–∏–Ω–µ—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏</li>
            <li data-href="lesson2.html">–£—Ä–æ–∫ 2. –≠—Ä–≥–æ–Ω–æ–º–∏–∫–∞</li>
            <li data-href="lesson3.html">–£—Ä–æ–∫ 3. –ö–∏–±–µ—Ä-–≥–∏–≥–∏–µ–Ω–∞ –∏ –∑–∞—â–∏—Ç–∞ –ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
          <ul class="lesson-list">
            <li data-href="lesson0.html">–í–≤–µ–¥–µ–Ω–∏–µ</li>
            <li data-href="index.html">–£—Ä–æ–∫ 1. –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –∫–∞–±–∏–Ω–µ—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏</li>
            <li data-href="lesson2.html">–£—Ä–æ–∫ 2. –≠—Ä–≥–æ–Ω–æ–º–∏–∫–∞</li>
            <li data-href="lesson3.html">–£—Ä–æ–∫ 3. –ö–∏–±–µ—Ä-–≥–∏–≥–∏–µ–Ω–∞ –∏ –∑–∞—â–∏—Ç–∞ –ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
            <li data-href="lesson4.html">–£—Ä–æ–∫ 4. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä—ã: –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ</li>
            <li data-href="lesson5.html">–£—Ä–æ–∫ 5. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä—ã: –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ</li>
            <li data-href="lesson6.html" class="active">–£—Ä–æ–∫ 6. –ê–ª–≥–æ—Ä–∏—Ç–º—ã</li>
          </ul>
        </div>

        <div class="content_games">
          <div class="final-test">
            <div class="test-header">
              <img src="images/Video6_7.png" alt="–ò—Ç–æ–≥–æ–≤—ã–π —Ç–µ—Å—Ç" class="test-image">
              <div class="test-intro">
                <h2>üéì –ò—Ç–æ–≥–æ–≤—ã–π —Ç–µ—Å—Ç: –ê–ª–≥–æ—Ä–∏—Ç–º—ã</h2>
                <p>–ü–æ–∫–∞–∂–∏, —á—Ç–æ —Ç—ã –≤—ã—É—á–∏–ª –æ–± –∞–ª–≥–æ—Ä–∏—Ç–º–∞—Ö!</p>
                <button id="startFinalTest" class="start-test-btn">–ù–∞—á–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç</button>
              </div>
            </div>

            <div id="finalTestContainer" class="test-container" style="display: none;">
              <div class="test-progress">
                <div class="progress-bar">
                  <div class="progress-fill" id="finalTestProgressFill"></div>
                </div>
                <p>–í–æ–ø—Ä–æ—Å <span id="currentFinalQ">1</span> –∏–∑ <span id="totalFinalQ">5</span></p>
              </div>

              <div id="finalTestQuestionContainer" class="question-container">
                <!-- –í–æ–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
              </div>

              <div id="finalTestResult" class="test-result" style="display: none;">
                <h3 id="finalResultTitle">–†–µ–∑—É–ª—å—Ç–∞—Ç</h3>
                <p id="finalResultText">–¢–µ–∫—Å—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</p>
                <div id="finalResultDetails" class="result-details"></div>
                <div class="completion-message" id="completionMessage" style="display: none;">
                  <h2>üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</h2>
                  <p>–¢—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª –≤—Å–µ —É—Ä–æ–∫–∏ 5 –∫–ª–∞—Å—Å–∞ –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ!</p>
                  <div class="achievements">
                    <h4>üèÜ –¢–≤–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:</h4>
                    <ul>
                      <li>‚úÖ –ò–∑—É—á–∏–ª –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –∫–∞–±–∏–Ω–µ—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏</li>
                      <li>‚úÖ –ü–æ–Ω—è–ª –≤–∞–∂–Ω–æ—Å—Ç—å —ç—Ä–≥–æ–Ω–æ–º–∏–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º</li>
                      <li>‚úÖ –û—Å–≤–æ–∏–ª –æ—Å–Ω–æ–≤—ã –∫–∏–±–µ—Ä-–≥–∏–≥–∏–µ–Ω—ã –∏ –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö</li>
                      <li>‚úÖ –†–∞–∑–æ–±—Ä–∞–ª—Å—è —Å –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–∞</li>
                      <li>‚úÖ –ò–∑—É—á–∏–ª –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –∏ –µ–≥–æ —Ç–∏–ø—ã</li>
                      <li>‚úÖ –ù–∞—É—á–∏–ª—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –ø–æ–Ω–∏–º–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã</li>
                    </ul>
                  </div>
                </div>
                <button id="retryFinalBtn" class="retry-btn" style="display: none;">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal for tooltips -->
  <div id="tooltipOverlay" class="tooltip-overlay"></div>
  <div id="tooltipModal" class="tooltip-modal"></div>

  <style>
    .final-test {
      padding: 40px;
      background: linear-gradient(135deg, #f8f9fa, #e9ecef);
      border-radius: 20px;
      margin: 20px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }

    .test-header {
      display: flex;
      gap: 30px;
      align-items: center;
      margin-bottom: 30px;
    }

    .test-image {
      max-width: 300px;
      max-height: 200px;
      object-fit: contain;
      border-radius: 15px;
    }

    .test-intro h2 {
      color: #4D36DB;
      margin-bottom: 15px;
      font-size: 32px;
    }

    .test-intro p {
      margin-bottom: 25px;
      font-size: 18px;
      color: #666;
    }

    .start-test-btn {
      padding: 20px 40px;
      background: linear-gradient(135deg, #4D36DB, #6B46C1);
      color: white;
      border: none;
      border-radius: 15px;
      font-size: 20px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: "Montserrat", sans-serif;
      box-shadow: 0 6px 20px rgba(77, 54, 219, 0.4);
    }

    .start-test-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(77, 54, 219, 0.5);
    }

    .test-container {
      margin-top: 30px;
    }

    .test-progress {
      margin-bottom: 30px;
      text-align: center;
    }

    .progress-bar {
      width: 100%;
      height: 10px;
      background-color: #e9ecef;
      border-radius: 5px;
      overflow: hidden;
      margin-bottom: 15px;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #4D36DB, #6B46C1);
      transition: width 0.5s ease;
      width: 20%;
    }

    .question-container {
      background: white;
      padding: 35px;
      border-radius: 15px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }

    .question-title {
      color: #4D36DB;
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 25px;
    }

    .question-options {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .option-btn {
      padding: 18px 25px;
      background: #f8f9fa;
      border: 2px solid #dee2e6;
      border-radius: 12px;
      cursor: pointer;
      font-family: "Montserrat", sans-serif;
      font-weight: 500;
      text-align: left;
      transition: all 0.3s ease;
      font-size: 16px;
    }

    .option-btn:hover {
      background: #e9ecef;
      border-color: #4D36DB;
      transform: translateX(8px);
    }

    .option-btn.selected {
      border-color: #4D36DB;
      background: #e8f0fe;
    }

    .option-btn.correct {
      background: #d4edda;
      border-color: #28a745;
      color: #155724;
    }

    .option-btn.incorrect {
      background: #f8d7da;
      border-color: #dc3545;
      color: #721c24;
    }

    .option-btn:disabled {
      cursor: not-allowed;
      opacity: 0.7;
    }

    .test-result {
      background: white;
      padding: 35px;
      border-radius: 15px;
      text-align: center;
      box-shadow: 0 6px 15px rgba(0,0,0,0.1);
    }

    .test-result.success {
      background: linear-gradient(135deg, #d4edda, #c3e6cb);
      border: 3px solid #28a745;
    }

    .test-result.partial {
      background: linear-gradient(135deg, #fff3cd, #ffeaa7);
      border: 3px solid #ffc107;
    }

    .test-result.failed {
      background: linear-gradient(135deg, #f8d7da, #f5c6cb);
      border: 3px solid #dc3545;
    }

    .completion-message {
      background: linear-gradient(135deg, #e8f5e8, #d4edda);
      padding: 30px;
      border-radius: 15px;
      margin: 25px 0;
      border: 3px solid #28a745;
    }

    .completion-message h2 {
      color: #155724;
      margin-bottom: 15px;
      font-size: 28px;
    }

    .completion-message p {
      color: #155724;
      font-size: 18px;
      margin-bottom: 20px;
    }

    .achievements h4 {
      color: #155724;
      margin-bottom: 15px;
      font-size: 18px;
    }

    .achievements ul {
      text-align: left;
      max-width: 600px;
      margin: 0 auto;
    }

    .achievements li {
      color: #155724;
      margin-bottom: 8px;
      font-size: 16px;
      line-height: 1.4;
    }

    .result-details {
      margin: 25px 0;
      text-align: left;
    }

    .result-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px;
      margin: 8px 0;
      background: rgba(255,255,255,0.7);
      border-radius: 8px;
    }

    .retry-btn {
      padding: 15px 30px;
      background: linear-gradient(135deg, #ffc107, #ffca2c);
      color: #212529;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: "Montserrat", sans-serif;
      margin: 10px;
    }

    .retry-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 193, 7, 0.3);
    }

    @media (max-width: 768px) {
      .final-test {
        padding: 20px;
        margin: 10px;
      }

      .test-header {
        flex-direction: column;
        text-align: center;
        gap: 20px;
      }

      .test-intro h2 {
        font-size: 28px;
      }

      .question-container {
        padding: 25px;
      }

      .option-btn {
        padding: 15px 20px;
        font-size: 14px;
      }

      .start-test-btn {
        padding: 15px 30px;
        font-size: 18px;
      }

      .completion-message h2 {
        font-size: 24px;
      }
    }
  </style>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="js/slick.min.js"></script>
  <script src="js/jquery.fancybox.min.js"></script>
  <script src="js/help.js"></script>
  <script src="js/main.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const questions = [
        {
          question: "–ß—Ç–æ —Ç–∞–∫–æ–µ –∞–ª–≥–æ—Ä–∏—Ç–º?",
          options: ["–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞", "–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏", "–í–∏–¥ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è", "–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä–∞"],
          correct: 1,
          explanation: "–ê–ª–≥–æ—Ä–∏—Ç–º - —ç—Ç–æ —á–µ—Ç–∫–∞—è –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏ –∏–ª–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏."
        },
        {
          question: "–ö–∞–∫–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –ù–ï —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –¥–ª—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞?",
          options: ["–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å", "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç—å", "–°–ª–æ–∂–Ω–æ—Å—Ç—å", "–†–µ–∑—É–ª—å—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å"],
          correct: 2,
          explanation: "–°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º —Å–≤–æ–π—Å—Ç–≤–æ–º –∞–ª–≥–æ—Ä–∏—Ç–º–∞. –ù–∞–æ–±–æ—Ä–æ—Ç, —Ö–æ—Ä–æ—à–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–æ—Å—Ç—ã–º–∏ –∏ –ø–æ–Ω—è—Ç–Ω—ã–º–∏."
        },
        {
          question: "–í –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è —á–∞—è?",
          options: ["–°–Ω–∞—á–∞–ª–∞ –∫–∏–ø—è—Ç–∏—Ç—å, –ø–æ—Ç–æ–º –Ω–∞–ª–∏–≤–∞—Ç—å –≤–æ–¥—É", "–°–Ω–∞—á–∞–ª–∞ –Ω–∞–ª–∏–≤–∞—Ç—å –≤–æ–¥—É, –ø–æ—Ç–æ–º –∫–∏–ø—è—Ç–∏—Ç—å", "–ü–æ—Ä—è–¥–æ–∫ –Ω–µ –≤–∞–∂–µ–Ω", "–ó–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è"],
          correct: 1,
          explanation: "–í –∞–ª–≥–æ—Ä–∏—Ç–º–µ –≤–∞–∂–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π. –°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –Ω–∞–ª–∏—Ç—å –≤–æ–¥—É –≤ —á–∞–π–Ω–∏–∫, –∑–∞—Ç–µ–º –µ–≥–æ –≤–∫–ª—é—á–∏—Ç—å."
        },
        {
          question: "–ê–ª–≥–æ—Ä–∏—Ç–º—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ?",
          options: ["–î–∞, —Ç–æ–ª—å–∫–æ –≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ", "–ù–µ—Ç, –≤ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –∂–∏–∑–Ω–∏ —Ç–æ–∂–µ", "–¢–æ–ª—å–∫–æ –≤ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ", "–¢–æ–ª—å–∫–æ –≤ –∏–≥—Ä–∞—Ö"],
          correct: 1,
          explanation: "–ê–ª–≥–æ—Ä–∏—Ç–º—ã —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –∂–∏–∑–Ω–∏: —Ä–µ—Ü–µ–ø—Ç—ã –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å–±–æ—Ä–∫–µ –º–µ–±–µ–ª–∏, –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Ä–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –∏ —Ç.–¥."
        },
        {
          question: "–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–ª–µ–∑–Ω—ã–º?",
          options: ["–û–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–ª–∏–Ω–Ω—ã–º", "–û–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–º –∏ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É", "–û–Ω –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Å–ª–æ–≤–∞", "–û–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ"],
          correct: 1,
          explanation: "–•–æ—Ä–æ—à–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–º, —á–µ—Ç–∫–∏–º –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –Ω—É–∂–Ω–æ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É."
        }
      ];

      let currentQuestion = 0;
      let score = 0;
      let answers = [];

      document.getElementById('startFinalTest').addEventListener('click', startTest);
      document.getElementById('retryFinalBtn').addEventListener('click', retryTest);

      function startTest() {
        document.querySelector('.test-header').style.display = 'none';
        document.getElementById('finalTestContainer').style.display = 'block';
        document.getElementById('totalFinalQ').textContent = questions.length;
        showQuestion();
      }

      function showQuestion() {
        const question = questions[currentQuestion];
        document.getElementById('currentFinalQ').textContent = currentQuestion + 1;

        const progress = ((currentQuestion + 1) / questions.length) * 100;
        document.getElementById('finalTestProgressFill').style.width = progress + '%';

        const container = document.getElementById('finalTestQuestionContainer');
        container.innerHTML = `
          <div class="question-title">${question.question}</div>
          <div class="question-options">
            ${question.options.map((option, index) =>
              `<button class="option-btn" data-index="${index}">${option}</button>`
            ).join('')}
          </div>
        `;

        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤
        container.querySelectorAll('.option-btn').forEach(btn => {
          btn.addEventListener('click', function() {
            selectAnswer(parseInt(this.dataset.index));
          });
        });
      }

      function selectAnswer(selectedIndex) {
        const question = questions[currentQuestion];
        const isCorrect = selectedIndex === question.correct;

        answers.push({
          question: question.question,
          selected: selectedIndex,
          correct: question.correct,
          isCorrect: isCorrect,
          explanation: question.explanation
        });

        if (isCorrect) score++;

        // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –æ—Ç–≤–µ—Ç—ã
        const options = document.querySelectorAll('.option-btn');
        options.forEach((btn, index) => {
          btn.disabled = true;
          if (index === question.correct) {
            btn.classList.add('correct');
          } else if (index === selectedIndex && !isCorrect) {
            btn.classList.add('incorrect');
          }
        });

        // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É
        setTimeout(() => {
          currentQuestion++;
          if (currentQuestion < questions.length) {
            showQuestion();
          } else {
            showResults();
          }
        }, 2000);
      }

      function showResults() {
        document.getElementById('finalTestQuestionContainer').style.display = 'none';
        const resultDiv = document.getElementById('finalTestResult');
        resultDiv.style.display = 'block';

        const percentage = Math.round((score / questions.length) * 100);
        let resultClass, title, text;

        if (percentage >= 80) {
          resultClass = 'success';
          title = 'üéâ –ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ!';
          text = `–¢—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–≤–µ—Ç–∏–ª –Ω–∞ ${score} –∏–∑ ${questions.length} –≤–æ–ø—Ä–æ—Å–æ–≤ (${percentage}%). –¢—ã –æ—Ç–ª–∏—á–Ω–æ –ø–æ–Ω–∏–º–∞–µ—à—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã!`;
          document.getElementById('completionMessage').style.display = 'block';
        } else if (percentage >= 60) {
          resultClass = 'partial';
          title = 'üëç –•–æ—Ä–æ—à–æ!';
          text = `–¢—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–≤–µ—Ç–∏–ª –Ω–∞ ${score} –∏–∑ ${questions.length} –≤–æ–ø—Ä–æ—Å–æ–≤ (${percentage}%). –ù–µ–ø–ª–æ—Ö–æ, –Ω–æ –º–æ–∂–Ω–æ –ª—É—á—à–µ!`;
          document.getElementById('retryFinalBtn').style.display = 'inline-block';
        } else {
          resultClass = 'failed';
          title = 'üòî –ù—É–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å';
          text = `–¢—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–≤–µ—Ç–∏–ª –Ω–∞ ${score} –∏–∑ ${questions.length} –≤–æ–ø—Ä–æ—Å–æ–≤ (${percentage}%). –ü–æ–≤—Ç–æ—Ä–∏ –º–∞—Ç–µ—Ä–∏–∞–ª –æ–± –∞–ª–≥–æ—Ä–∏—Ç–º–∞—Ö –∏ –ø–æ–ø—Ä–æ–±—É–π —Å–Ω–æ–≤–∞!`;
          document.getElementById('retryFinalBtn').style.display = 'inline-block';
        }

        resultDiv.className = `test-result ${resultClass}`;
        document.getElementById('finalResultTitle').textContent = title;
        document.getElementById('finalResultText').textContent = text;

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–µ—Ç–∞–ª–∏ –æ—Ç–≤–µ—Ç–æ–≤
        const detailsDiv = document.getElementById('finalResultDetails');
        detailsDiv.innerHTML = '<h4>–†–∞–∑–±–æ—Ä –æ—Ç–≤–µ—Ç–æ–≤:</h4>' +
          answers.map((answer, index) => `
            <div class="result-item">
              <div>
                <strong>–í–æ–ø—Ä–æ—Å ${index + 1}:</strong> ${answer.isCorrect ? '‚úÖ' : '‚ùå'}<br>
                <small>${answer.explanation}</small>
              </div>
            </div>
          `).join('');
      }

      function retryTest() {
        currentQuestion = 0;
        score = 0;
        answers = [];
        document.getElementById('finalTestResult').style.display = 'none';
        document.getElementById('finalTestQuestionContainer').style.display = 'block';
        document.getElementById('finalTestProgressFill').style.width = '20%';
        showQuestion();
      }
    });
  </script>
</body>

</html>
